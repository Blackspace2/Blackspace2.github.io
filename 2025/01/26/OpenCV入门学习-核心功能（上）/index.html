<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.3.0">
<link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.ico">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha256-dABdfBfUoC8vJUBOwGVdm8L9qlMWaHTIfXt+7GnZCIo=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancyapps-ui/5.0.31/fancybox/fancybox.css" integrity="sha256-gkQVf8UKZgQ0HyuxL/VnacadJ+D2Kox2TCEBuNQg5+w=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"blackspace2.github.io","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.22.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"always","padding":18,"offset":12},"hljswrap":true,"copycode":{"enable":true,"style":"flat"},"fold":{"enable":true,"height":800},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"twikoo","storage":true,"lazyload":false,"nav":{"twikoo":{"order":-1}},"activeClass":"twikoo"},"stickytabs":false,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"æœç´¢...","empty":"æ²¡æœ‰æ‰¾åˆ°ä»»ä½•æœç´¢ç»“æœï¼š${query}","hits_time":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœï¼ˆç”¨æ—¶ ${time} æ¯«ç§’ï¼‰","hits":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœ"},"path":"/search.xml","localsearch":{"enable":true,"top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="Mat ç±» | å›¾åƒæ‰«æå’ŒæŸ¥æ‰¾è¡¨ | æ©è†œæ“ä½œ | å›¾åƒå¤„ç†åŸºç¡€æ“ä½œ | å›¾åƒçº¿æ€§æ··åˆ">
<meta property="og:type" content="article">
<meta property="og:title" content="OpenCVå…¥é—¨å­¦ä¹ -æ ¸å¿ƒåŠŸèƒ½ï¼ˆä¸Šï¼‰">
<meta property="og:url" content="https://blackspace2.github.io/2025/01/26/OpenCV%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0-%E6%A0%B8%E5%BF%83%E5%8A%9F%E8%83%BD%EF%BC%88%E4%B8%8A%EF%BC%89/index.html">
<meta property="og:site_name" content="Peace">
<meta property="og:description" content="Mat ç±» | å›¾åƒæ‰«æå’ŒæŸ¥æ‰¾è¡¨ | æ©è†œæ“ä½œ | å›¾åƒå¤„ç†åŸºç¡€æ“ä½œ | å›¾åƒçº¿æ€§æ··åˆ">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2025-01-26T07:06:53.000Z">
<meta property="article:modified_time" content="2025-02-04T13:51:23.184Z">
<meta property="article:author" content="smile">
<meta property="article:tag" content="è®¡ç®—æœºè§†è§‰">
<meta property="article:tag" content="C&#x2F;C++">
<meta property="article:tag" content="OpenCV">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://blackspace2.github.io/2025/01/26/OpenCV%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0-%E6%A0%B8%E5%BF%83%E5%8A%9F%E8%83%BD%EF%BC%88%E4%B8%8A%EF%BC%89/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://blackspace2.github.io/2025/01/26/OpenCV%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0-%E6%A0%B8%E5%BF%83%E5%8A%9F%E8%83%BD%EF%BC%88%E4%B8%8A%EF%BC%89/","path":"2025/01/26/OpenCVå…¥é—¨å­¦ä¹ -æ ¸å¿ƒåŠŸèƒ½ï¼ˆä¸Šï¼‰/","title":"OpenCVå…¥é—¨å­¦ä¹ -æ ¸å¿ƒåŠŸèƒ½ï¼ˆä¸Šï¼‰"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>OpenCVå…¥é—¨å­¦ä¹ -æ ¸å¿ƒåŠŸèƒ½ï¼ˆä¸Šï¼‰ | Peace</title>
  







<link rel="stylesheet" type="text/css" href="/css/injector/main.css" /><link rel="preload" as="style" href="/css/injector/light.css" /><link rel="preload" as="style" href="/css/injector/dark.css" />
  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<link rel="alternate" href="/atom.xml" title="Peace" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  
  
   
  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ " role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">Peace</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">Sider mens eadem mutato</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="æœç´¢" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>é¦–é¡µ</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>å½’æ¡£</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>åˆ†ç±»</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>æ ‡ç­¾</a></li><li class="menu-item menu-item-jottings"><a href="/jottings" rel="section"><i class="fa fa-sticky-note fa-fw"></i>æ‚è®°</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>å…³äº</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>æœç´¢
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
      <div class="search-header">
        <span class="search-icon">
          <i class="fa fa-search"></i>
        </span>
        <div class="search-input-container">
          <input autocomplete="off" autocapitalize="off" maxlength="80"
                placeholder="æœç´¢..." spellcheck="false"
                type="search" class="search-input">
        </div>
        <span class="popup-btn-close" role="button">
          <i class="fa fa-times-circle"></i>
        </span>
      </div>
      <div class="search-result-container">
        <div class="search-result-icon">
          <i class="fa fa-spinner fa-pulse fa-5x"></i>
        </div>
      </div>
    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#mat-%E7%B1%BB"><span class="nav-text">1. Mat ç±»</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86"><span class="nav-text">1.1. æ•°æ®ç»“æ„ä¸å†…å­˜ç®¡ç†</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B7%B1%E6%B5%85%E6%8B%B7%E8%B4%9D%E5%AF%B9%E6%AF%94"><span class="nav-text">1.2. æ·±æµ…æ‹·è´å¯¹æ¯”</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%89%B2%E5%BD%A9%E7%A9%BA%E9%97%B4%E4%B8%8E%E5%AD%98%E5%82%A8%E5%B8%83%E5%B1%80"><span class="nav-text">1.3. è‰²å½©ç©ºé—´ä¸å­˜å‚¨å¸ƒå±€</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E5%85%A8%E8%A7%A3%E6%9E%90"><span class="nav-text">1.4. æ„é€ å‡½æ•°å…¨è§£æ</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%BB%98%E8%AE%A4%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E5%BB%B6%E8%BF%9F%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="nav-text">1.4.1. é»˜è®¤æ„é€ å‡½æ•°ï¼ˆå»¶è¿Ÿåˆå§‹åŒ–ï¼‰</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8C%87%E5%AE%9A%E5%B0%BA%E5%AF%B8%E4%B8%8E%E7%B1%BB%E5%9E%8B"><span class="nav-text">1.4.2. æŒ‡å®šå°ºå¯¸ä¸ç±»å‹</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%9D%E5%A7%8B%E5%8C%96%E5%80%BC%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0"><span class="nav-text">1.4.3. åˆå§‹åŒ–å€¼æ„é€ å‡½æ•°</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A4%96%E9%83%A8%E6%95%B0%E6%8D%AE%E5%85%B1%E4%BA%AB"><span class="nav-text">1.4.4. å¤–éƒ¨æ•°æ®å…±äº«</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#roi%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0"><span class="nav-text">1.4.5. ROIæ„é€ å‡½æ•°</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%89%B9%E6%AE%8A%E7%9F%A9%E9%98%B5%E7%94%9F%E6%88%90"><span class="nav-text">1.4.6. ç‰¹æ®ŠçŸ©é˜µç”Ÿæˆ</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E8%AE%BF%E9%97%AE%E4%B8%8E%E8%BE%93%E5%87%BA"><span class="nav-text">1.5. æ•°æ®è®¿é—®ä¸è¾“å‡º</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3%E8%A1%A5%E5%85%85%E8%A6%81%E7%82%B9"><span class="nav-text">1.6. å®˜æ–¹æ–‡æ¡£è¡¥å……è¦ç‚¹</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9B%BE%E5%83%8F%E6%89%AB%E6%8F%8F%E6%9F%A5%E6%89%BE%E8%A1%A8%E4%B8%8E%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96"><span class="nav-text">2. å›¾åƒæ‰«æã€æŸ¥æ‰¾è¡¨ä¸æ€§èƒ½ä¼˜åŒ– </span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9B%BE%E5%83%8F%E7%9F%A9%E9%98%B5%E7%9A%84%E5%86%85%E5%AD%98%E5%AD%98%E5%82%A8"><span class="nav-text">2.1. å›¾åƒçŸ©é˜µçš„å†…å­˜å­˜å‚¨</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%A2%9C%E8%89%B2%E7%A9%BA%E9%97%B4%E7%BC%A9%E5%87%8F%E7%A4%BA%E4%BE%8B"><span class="nav-text">2.2. é¢œè‰²ç©ºé—´ç¼©å‡ç¤ºä¾‹</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9F%A5%E6%89%BE%E8%A1%A8%E7%94%9F%E6%88%90%E4%BB%A3%E7%A0%81"><span class="nav-text">2.2.1. æŸ¥æ‰¾è¡¨ç”Ÿæˆä»£ç </span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9B%BE%E5%83%8F%E6%89%AB%E6%8F%8F%E6%96%B9%E6%B3%95%E5%AF%B9%E6%AF%94"><span class="nav-text">2.3. å›¾åƒæ‰«ææ–¹æ³•å¯¹æ¯”</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%AB%98%E6%95%88%E6%96%B9%E6%B3%95%E6%8C%87%E9%92%88%E8%AE%BF%E9%97%AE"><span class="nav-text">2.3.1. é«˜æ•ˆæ–¹æ³•ï¼šæŒ‡é’ˆè®¿é—®</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%89%E5%85%A8%E6%96%B9%E6%B3%95%E8%BF%AD%E4%BB%A3%E5%99%A8"><span class="nav-text">2.3.2. å®‰å…¨æ–¹æ³•ï¼šè¿­ä»£å™¨</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8A%A8%E6%80%81%E5%9C%B0%E5%9D%80%E8%AE%A1%E7%AE%97at-%E6%96%B9%E6%B3%95"><span class="nav-text">2.3.3. åŠ¨æ€åœ°å€è®¡ç®—ï¼šat
æ–¹æ³•</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BB%88%E6%9E%81%E4%BC%98%E5%8C%96opencv-%E5%86%85%E7%BD%AE-lut-%E5%87%BD%E6%95%B0"><span class="nav-text">2.4. ç»ˆæä¼˜åŒ–ï¼šOpenCV å†…ç½® LUT
å‡½æ•°</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%80%A7%E8%83%BD%E5%AF%B9%E6%AF%94"><span class="nav-text">2.5. æ€§èƒ½å¯¹æ¯”</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%9E%E6%88%98%E5%BB%BA%E8%AE%AE"><span class="nav-text">2.6. å®æˆ˜å»ºè®®</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86%E4%B8%AD%E7%9A%84%E6%8E%A9%E8%86%9C%E6%93%8D%E4%BD%9C"><span class="nav-text">3. å›¾åƒå¤„ç†ä¸­çš„æ©è†œæ“ä½œ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E6%8E%A9%E8%86%9C%E6%93%8D%E4%BD%9C"><span class="nav-text">3.1. ä»€ä¹ˆæ˜¯æ©è†œæ“ä½œï¼Ÿ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%89%8B%E5%8A%A8%E5%AE%9E%E7%8E%B0%E6%8E%A9%E8%86%9C%E6%93%8D%E4%BD%9C"><span class="nav-text">3.2. æ‰‹åŠ¨å®ç°æ©è†œæ“ä½œ</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%85%B3%E9%94%AE%E6%AD%A5%E9%AA%A4"><span class="nav-text">3.2.1. å…³é”®æ­¥éª¤</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B%E7%AE%80%E5%8C%96%E7%89%88"><span class="nav-text">3.2.2. ä»£ç ç¤ºä¾‹ï¼ˆç®€åŒ–ç‰ˆï¼‰</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8opencv%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0-filter2d"><span class="nav-text">3.3. ä½¿ç”¨OpenCVå†…ç½®å‡½æ•°
filter2D</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B"><span class="nav-text">3.3.1. ä»£ç ç¤ºä¾‹</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BC%98%E5%8A%BF"><span class="nav-text">3.3.2. ä¼˜åŠ¿</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%80%A7%E8%83%BD%E5%AF%B9%E6%AF%94%E4%B8%8E%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="nav-text">3.4. æ€§èƒ½å¯¹æ¯”ä¸é€‚ç”¨åœºæ™¯</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%80%BB%E7%BB%93"><span class="nav-text">3.5. æ€»ç»“</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9B%BE%E5%83%8F%E5%9F%BA%E7%A1%80%E6%93%8D%E4%BD%9C"><span class="nav-text">4. å›¾åƒåŸºç¡€æ“ä½œ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9B%BE%E5%83%8F%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA"><span class="nav-text">4.1. å›¾åƒè¾“å…¥è¾“å‡º</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8A%A0%E8%BD%BD%E5%9B%BE%E5%83%8F"><span class="nav-text">4.1.1. åŠ è½½å›¾åƒ</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BF%9D%E5%AD%98%E5%9B%BE%E5%83%8F"><span class="nav-text">4.1.2. ä¿å­˜å›¾åƒ</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%83%8F%E7%B4%A0%E6%93%8D%E4%BD%9C"><span class="nav-text">4.2. åƒç´ æ“ä½œ</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AE%BF%E9%97%AE%E5%83%8F%E7%B4%A0%E5%80%BC"><span class="nav-text">4.2.1. è®¿é—®åƒç´ å€¼</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9%E5%83%8F%E7%B4%A0%E5%80%BC"><span class="nav-text">4.2.2. ä¿®æ”¹åƒç´ å€¼</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%E4%B8%8E%E5%BC%95%E7%94%A8%E8%AE%A1%E6%95%B0"><span class="nav-text">4.3. å†…å­˜ç®¡ç†ä¸å¼•ç”¨è®¡æ•°</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E5%85%B1%E4%BA%AB%E6%9C%BA%E5%88%B6"><span class="nav-text">4.3.1. æ•°æ®å…±äº«æœºåˆ¶</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%98%BE%E5%BC%8F%E5%A4%8D%E5%88%B6%E6%95%B0%E6%8D%AE"><span class="nav-text">4.3.2. æ˜¾å¼å¤åˆ¶æ•°æ®</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E5%9B%BE%E5%83%8F%E6%93%8D%E4%BD%9C"><span class="nav-text">4.4. åŸºæœ¬å›¾åƒæ“ä½œ</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9B%BE%E5%83%8F%E7%BD%AE%E9%BB%91"><span class="nav-text">4.4.1. å›¾åƒç½®é»‘</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%80%89%E6%8B%A9%E6%84%9F%E5%85%B4%E8%B6%A3%E5%8C%BA%E5%9F%9Froi"><span class="nav-text">4.4.2. é€‰æ‹©æ„Ÿå…´è¶£åŒºåŸŸï¼ˆROIï¼‰</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%9C%E8%89%B2%E7%A9%BA%E9%97%B4%E8%BD%AC%E6%8D%A2"><span class="nav-text">4.4.3. é¢œè‰²ç©ºé—´è½¬æ¢</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9B%BE%E5%83%8F%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="nav-text">4.4.4. å›¾åƒç±»å‹è½¬æ¢</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9B%BE%E5%83%8F%E5%8F%AF%E8%A7%86%E5%8C%96"><span class="nav-text">4.5. å›¾åƒå¯è§†åŒ–</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%98%BE%E7%A4%BA-8-%E4%BD%8D%E5%9B%BE%E5%83%8F"><span class="nav-text">4.5.1. æ˜¾ç¤º 8 ä½å›¾åƒ</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%98%BE%E7%A4%BA%E6%B5%AE%E7%82%B9%E5%9B%BE%E5%83%8F"><span class="nav-text">4.5.2. æ˜¾ç¤ºæµ®ç‚¹å›¾åƒ</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%80%BB%E7%BB%93-1"><span class="nav-text">4.6. æ€»ç»“</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8cvaddweighted%E5%AE%9E%E7%8E%B0%E5%9B%BE%E5%83%8F%E7%BA%BF%E6%80%A7%E6%B7%B7%E5%90%88"><span class="nav-text">5.
ä½¿ç”¨cv::addWeightedå®ç°å›¾åƒçº¿æ€§æ··åˆ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%90%86%E8%AE%BA%E8%83%8C%E6%99%AF"><span class="nav-text">5.1. ç†è®ºèƒŒæ™¯</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0"><span class="nav-text">5.2. ä»£ç å®ç°</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%B3%E9%94%AE%E4%BB%A3%E7%A0%81%E8%A7%A3%E6%9E%90"><span class="nav-text">5.3. å…³é”®ä»£ç è§£æ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="nav-text">5.4. æ³¨æ„äº‹é¡¹</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%80%BB%E7%BB%93-2"><span class="nav-text">5.5. æ€»ç»“</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99"><span class="nav-text">6. å‚è€ƒèµ„æ–™</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="smile"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">smile</p>
  <div class="site-description" itemprop="description">è®°å½•å­¦ä¹ ç”Ÿæ´»</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">16</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">7</span>
        <span class="site-state-item-name">åˆ†ç±»</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">17</span>
        <span class="site-state-item-name">æ ‡ç­¾</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="/atom.xml" title="RSS â†’ &#x2F;atom.xml" rel="noopener me"><i class="fa fa-rss fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="https://github.com/Blackspace2" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;Blackspace2" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:zezhong_xie@163.com" title="E-Mail â†’ mailto:zezhong_xie@163.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i></a>
      </span>
  </div>
  <div class="cc-license animated" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="https://cdnjs.cloudflare.com/ajax/libs/creativecommons-vocabulary/2020.11.3/assets/license_badges/small/by_nc_sa.svg" alt="Creative Commons"></a>
  </div>

        </div>
      </div>
    </div>

    

    <link rel="stylesheet" href="/dist/APlayer.min.css">
    <div id="aplayer"></div>
    <script type="text/javascript" src="/dist/APlayer.min.js"></script>
    <script type="text/javascript" src="/dist/music.js"></script>

  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://blackspace2.github.io/2025/01/26/OpenCV%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0-%E6%A0%B8%E5%BF%83%E5%8A%9F%E8%83%BD%EF%BC%88%E4%B8%8A%EF%BC%89/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="smile">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Peace">
      <meta itemprop="description" content="è®°å½•å­¦ä¹ ç”Ÿæ´»">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="OpenCVå…¥é—¨å­¦ä¹ -æ ¸å¿ƒåŠŸèƒ½ï¼ˆä¸Šï¼‰ | Peace">
      <meta itemprop="description" content="Mat ç±» | å›¾åƒæ‰«æå’ŒæŸ¥æ‰¾è¡¨ | æ©è†œæ“ä½œ | å›¾åƒå¤„ç†åŸºç¡€æ“ä½œ | å›¾åƒçº¿æ€§æ··åˆ">
    </span>

      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          OpenCVå…¥é—¨å­¦ä¹ -æ ¸å¿ƒåŠŸèƒ½ï¼ˆä¸Šï¼‰
        </h1>

        <div class="post-meta-container">

          <div class="post-meta">
    
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2025-01-26 15:06:53" itemprop="dateCreated datePublished" datetime="2025-01-26T15:06:53+08:00">2025-01-26</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">æ›´æ–°äº</span>
      <time title="ä¿®æ”¹æ—¶é—´ï¼š2025-02-04 21:51:23" itemprop="dateModified" datetime="2025-02-04T21:51:23+08:00">2025-02-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/" itemprop="url" rel="index"><span itemprop="name">è®¡ç®—æœºè§†è§‰</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="é˜…è¯»æ¬¡æ•°" id="busuanzi_container_page_pv">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
      <span id="busuanzi_value_page_pv"></span>
    </span>
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
      <span>4.2k</span>
    </span>
    <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
      <span>14 åˆ†é’Ÿ</span>
    </span>
  
</div>

            <div class="post-description">Mat ç±» | å›¾åƒæ‰«æå’ŒæŸ¥æ‰¾è¡¨ | æ©è†œæ“ä½œ | å›¾åƒå¤„ç†åŸºç¡€æ“ä½œ | å›¾åƒçº¿æ€§æ··åˆ</div>
          
        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><span id="more"></span>
<p>ç¯å¢ƒï¼š</p>
<ul>
<li>win11 x64</li>
<li>OpenCV 4.9.0</li>
<li>VS 2022 (v143)</li>
<li>C++ (ISO C++ 14 æ ‡å‡†)</li>
</ul>
<h2 id="mat-ç±»">1. <code>Mat</code> ç±»</h2>
<h3 id="æ•°æ®ç»“æ„ä¸å†…å­˜ç®¡ç†">1.1. æ•°æ®ç»“æ„ä¸å†…å­˜ç®¡ç†</h3>
<p><code>Mat</code>
æ˜¯OpenCVçš„æ ¸å¿ƒå›¾åƒå®¹å™¨ç±»ï¼Œé‡‡ç”¨<strong>è‡ªåŠ¨å†…å­˜ç®¡ç†</strong>æœºåˆ¶ï¼Œæ— éœ€æ‰‹åŠ¨åˆ†é…/é‡Šæ”¾å†…å­˜ã€‚å…¶ç»“æ„åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼š</p>
<ul>
<li><strong>çŸ©é˜µå¤´(Header)</strong><br />
å›ºå®šå¤§å°ï¼ˆçº¦æ•°åå­—èŠ‚ï¼‰ï¼Œå­˜å‚¨å…ƒä¿¡æ¯ï¼š
<ul>
<li>çŸ©é˜µç»´åº¦ï¼ˆrows, cols, channelsï¼‰</li>
<li>æ•°æ®ç±»å‹ï¼ˆå¦‚ <code>CV_8UC3</code> ï¼‰</li>
<li>å­˜å‚¨å¸ƒå±€ï¼ˆstepï¼šæ¯è¡Œçš„å­—èŠ‚æ•°ï¼‰</li>
<li>å¼•ç”¨è®¡æ•°å™¨</li>
<li>æ•°æ®æŒ‡é’ˆåœ°å€</li>
</ul></li>
<li><strong>æ•°æ®å—(Data)</strong><br />
åŠ¨æ€å†…å­˜åŒºåŸŸï¼Œå­˜å‚¨å®é™…åƒç´ å€¼ï¼Œé‡‡ç”¨<strong>å¼•ç”¨è®¡æ•°æœºåˆ¶</strong>ç®¡ç†ï¼š
<ul>
<li>æµ…æ‹·è´æ—¶å¤šä¸ª <code>Mat</code> å¯¹è±¡å…±äº«æ•°æ®å—</li>
<li>æœ€åä¸€ä¸ªå¼•ç”¨å¯¹è±¡é”€æ¯æ—¶è‡ªåŠ¨é‡Šæ”¾å†…å­˜</li>
</ul></li>
</ul>
<h3 id="æ·±æµ…æ‹·è´å¯¹æ¯”">1.2. æ·±æµ…æ‹·è´å¯¹æ¯”</h3>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cv::Mat A = cv::<span class="built_in">imread</span>(<span class="string">&quot;dog.jpg&quot;</span>, cv::IMREAD_COLOR);</span><br><span class="line">cv::Mat B = A;         <span class="comment">// æµ…æ‹·è´ï¼ˆä»…å¤åˆ¶Headerï¼‰</span></span><br><span class="line">cv::Mat C = A.<span class="built_in">clone</span>(); <span class="comment">// æ·±æ‹·è´ï¼ˆå®Œæ•´æ•°æ®å‰¯æœ¬ï¼‰</span></span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr class="header">
<th>æ“ä½œç±»å‹</th>
<th>å†…å­˜å¼€é”€</th>
<th>æ•°æ®ç‹¬ç«‹æ€§</th>
<th>é€‚ç”¨åœºæ™¯</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>æµ…æ‹·è´</td>
<td>æå°</td>
<td>å…±äº«æ•°æ®</td>
<td>å¿«é€Ÿåˆ›å»ºè§†å›¾/ROI</td>
</tr>
<tr class="even">
<td>æ·±æ‹·è´</td>
<td>å¤§</td>
<td>å®Œå…¨ç‹¬ç«‹</td>
<td>éœ€ç‹¬ç«‹ä¿®æ”¹åƒç´ çš„åœºæ™¯</td>
</tr>
</tbody>
</table>
<blockquote>
<p>ğŸ“Œ <strong>å…³é”®æœºåˆ¶</strong></p>
<ul>
<li>ä¿®æ”¹æµ…æ‹·è´å¯¹è±¡çš„åƒç´ ä¼šç›´æ¥å½±å“åŸå¯¹è±¡</li>
<li>ä½¿ç”¨ <code>clone()</code> æˆ– <code>copyTo()</code>
è¿›è¡Œ<strong>æ˜¾å¼æ·±æ‹·è´</strong></li>
</ul>
</blockquote>
<h3 id="è‰²å½©ç©ºé—´ä¸å­˜å‚¨å¸ƒå±€">1.3. è‰²å½©ç©ºé—´ä¸å­˜å‚¨å¸ƒå±€</h3>
<ul>
<li><strong>é»˜è®¤è‰²å½©ç©ºé—´</strong>ï¼šBGRï¼ˆé RGB
ï¼‰ï¼Œä¸å›¾åƒæ˜¾ç¤ºç³»ç»Ÿå…¼å®¹</li>
<li><strong>é€šé“é¡ºåº</strong>ï¼šå¯¹äº3é€šé“çŸ©é˜µï¼Œåƒç´ æŒ‰ <code>B-G-R</code>
é¡ºåºå­˜å‚¨</li>
<li><strong>å†…å­˜å¸ƒå±€</strong>ï¼šè¿ç»­å­˜å‚¨ï¼ˆå¯é€šè¿‡
<code>isContinuous()</code> åˆ¤æ–­ï¼‰ï¼Œè¡Œä¼˜å…ˆå­˜å‚¨</li>
</ul>
<h3 id="æ„é€ å‡½æ•°å…¨è§£æ">1.4. æ„é€ å‡½æ•°å…¨è§£æ</h3>
<h4 id="é»˜è®¤æ„é€ å‡½æ•°å»¶è¿Ÿåˆå§‹åŒ–">1.4.1. é»˜è®¤æ„é€ å‡½æ•°ï¼ˆå»¶è¿Ÿåˆå§‹åŒ–ï¼‰</h4>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cv::Mat matEmpty; <span class="comment">// åˆ›å»ºç©ºçŸ©é˜µï¼ˆHeaderæ— æ•°æ®æŒ‡é’ˆï¼‰</span></span><br><span class="line">matEmpty = cv::<span class="built_in">imread</span>(<span class="string">&quot;image.jpg&quot;</span>); <span class="comment">// å»¶è¿ŸåŠ è½½æ—¶åˆ†é…å†…å­˜</span></span><br></pre></td></tr></table></figure>
<h4 id="æŒ‡å®šå°ºå¯¸ä¸ç±»å‹">1.4.2. æŒ‡å®šå°ºå¯¸ä¸ç±»å‹</h4>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»º480x640çš„3é€šé“å›¾åƒï¼ˆBGRæ ¼å¼ï¼‰</span></span><br><span class="line"><span class="comment">// Mat(int rows, int cols, int type);</span></span><br><span class="line"><span class="function">cv::Mat <span class="title">mat</span><span class="params">(<span class="number">480</span>, <span class="number">640</span>, CV_8UC3)</span></span>;</span><br></pre></td></tr></table></figure>
<h4 id="åˆå§‹åŒ–å€¼æ„é€ å‡½æ•°">1.4.3. åˆå§‹åŒ–å€¼æ„é€ å‡½æ•°</h4>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»º3x3è“è‰²çŸ©é˜µï¼ˆB=255, G=0, R=0ï¼‰</span></span><br><span class="line"><span class="comment">// Mat(int rows, int cols, int type, const cv::Scalar&amp; s);</span></span><br><span class="line"><span class="function">cv::Mat <span class="title">matInit</span><span class="params">(<span class="number">3</span>, <span class="number">3</span>, CV_8UC3, cv::Scalar(<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>))</span></span>;</span><br></pre></td></tr></table></figure>
<h4 id="å¤–éƒ¨æ•°æ®å…±äº«">1.4.4. å¤–éƒ¨æ•°æ®å…±äº«</h4>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">float</span> externalData[<span class="number">6</span>] = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>&#125;;</span><br><span class="line"><span class="function">cv::Mat <span class="title">matExt</span><span class="params">(<span class="number">2</span>, <span class="number">3</span>, CV_32FC1, externalData)</span></span>; <span class="comment">// å…±äº«å†…å­˜</span></span><br></pre></td></tr></table></figure>
<h4 id="roiæ„é€ å‡½æ•°">1.4.5. ROIæ„é€ å‡½æ•°</h4>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">cv::Rect <span class="title">roiArea</span><span class="params">(<span class="number">10</span>, <span class="number">10</span>, <span class="number">100</span>, <span class="number">100</span>)</span></span>; <span class="comment">// (x,y,width,height)</span></span><br><span class="line"><span class="function">cv::Mat <span class="title">roi</span><span class="params">(img, roiArea)</span></span>; <span class="comment">// æµ…æ‹·è´åŸå›¾çš„ROIåŒºåŸŸ</span></span><br></pre></td></tr></table></figure>
<h4 id="ç‰¹æ®ŠçŸ©é˜µç”Ÿæˆ">1.4.6. ç‰¹æ®ŠçŸ©é˜µç”Ÿæˆ</h4>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cv::Mat zeros = cv::Mat::<span class="built_in">zeros</span>(<span class="number">3</span>, <span class="number">3</span>, CV_32F); <span class="comment">// 3x3æµ®ç‚¹é›¶çŸ©é˜µ</span></span><br><span class="line">cv::Mat eye = cv::Mat::<span class="built_in">eye</span>(<span class="number">3</span>, <span class="number">3</span>, CV_8UC1);    <span class="comment">// 3x3å•ä½çŸ©é˜µ</span></span><br></pre></td></tr></table></figure>
<h3 id="æ•°æ®è®¿é—®ä¸è¾“å‡º">1.5. æ•°æ®è®¿é—®ä¸è¾“å‡º</h3>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ­£ç¡®è¾“å‡ºçŸ©é˜µå†…å®¹ï¼ˆéœ€æŒ‡å®šæ ¼å¼ï¼‰</span></span><br><span class="line">cv::Mat intMatrix = (cv::<span class="built_in">Mat_</span>&lt;<span class="type">int</span>&gt;(<span class="number">2</span>,<span class="number">2</span>) &lt;&lt; <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>);</span><br><span class="line">std::cout &lt;&lt; <span class="string">&quot;Matrix:\n&quot;</span> &lt;&lt; cv::format(intMatrix, cv::Formatter::FMT_C) &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¾“å‡ºç»“æœï¼š</span></span><br><span class="line"><span class="comment">// [1, 2;</span></span><br><span class="line"><span class="comment">//  3, 4]</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>âš ï¸ <strong>æ³¨æ„äº‹é¡¹</strong></p>
<ul>
<li>ä½¿ç”¨ <code>at&lt;T&gt;(row,col)</code> è®¿é—®å…ƒç´ æ—¶éœ€ç¡®ä¿ç±»å‹åŒ¹é…ï¼ˆå¦‚
<code>CV_8UC3</code> å¯¹åº” <code>cv::Vec3b</code> ï¼‰</li>
<li>å¤šé€šé“çŸ©é˜µçš„ cv::Scalar åˆå§‹åŒ–é¡ºåºä¸º <code>(B,G,R)</code></li>
<li>å¤–éƒ¨æ•°æ®æ„é€ çš„ cv::Mat å¯¹è±¡ä¸ç®¡ç†åŸæ•°æ®å†…å­˜ï¼Œéœ€æ‰‹åŠ¨ç»´æŠ¤ç”Ÿå‘½å‘¨æœŸ</li>
</ul>
</blockquote>
<h3 id="å®˜æ–¹æ–‡æ¡£è¡¥å……è¦ç‚¹">1.6. å®˜æ–¹æ–‡æ¡£è¡¥å……è¦ç‚¹</h3>
<ol type="1">
<li><p><strong>å¤šç»´çŸ©é˜µæ”¯æŒ</strong><br />
<code>cv::Mat</code> å¯å¤„ç†Nç»´æ•°æ®ï¼Œé€šè¿‡ <code>dims</code>
å‚æ•°æŒ‡å®šç»´åº¦ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Mat(int ndims, const int* sizes, int type, const cv::Scalar&amp; s);</span></span><br><span class="line"><span class="type">int</span> sizes[] = &#123;<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;; <span class="comment">// 3ç»´ï¼š3x4x5</span></span><br><span class="line"><span class="function">cv::Mat <span class="title">ndMat</span><span class="params">(<span class="number">3</span>, sizes, CV_8UC1, cv::Scalar::all(<span class="number">0</span>))</span></span>;</span><br></pre></td></tr></table></figure></li>
<li><p><strong>å†…å­˜è¿ç»­æ€§ä¼˜åŒ–</strong><br />
ä½¿ç”¨ <code>create()</code> æ–¹æ³•é‡æ–°åˆ†é…è¿ç»­å†…å­˜ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mat.<span class="built_in">create</span>(rows, cols, type); <span class="comment">// é‡ç½®çŸ©é˜µå°ºå¯¸/ç±»å‹</span></span><br></pre></td></tr></table></figure></li>
<li><p><strong>è¡¨è¾¾å¼è®¡ç®—ä¼˜åŒ–</strong><br />
OpenCVé‡è½½äº†çŸ©é˜µè¿ç®—ç¬¦ï¼ˆ <code>+</code> , <code>*</code>
ç­‰ï¼‰ï¼Œè‡ªåŠ¨é¿å…ä¸­é—´å˜é‡æ‹·è´ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cv::Mat C = A.<span class="built_in">mul</span>(B) + <span class="number">0.5</span>; <span class="comment">// å¯¹åº”å…ƒç´ ç›¸ä¹˜å†åŠ  0.5</span></span><br><span class="line"><span class="comment">// ps: çŸ©é˜µä¹˜æ³•æ—¶ç›´æ¥ç”¨ *</span></span><br></pre></td></tr></table></figure></li>
</ol>
<hr />
<h2 id="å›¾åƒæ‰«ææŸ¥æ‰¾è¡¨ä¸æ€§èƒ½ä¼˜åŒ–">2. å›¾åƒæ‰«æã€æŸ¥æ‰¾è¡¨ä¸æ€§èƒ½ä¼˜åŒ– <span
id="ch2"></span></h2>
<p>é€šè¿‡ä¸€ä¸ªå®é™…çš„<strong>é¢œè‰²ç©ºé—´ç¼©å‡</strong>ç¤ºä¾‹ï¼Œå¿«é€ŸæŒæ¡ OpenCV
ä¸­å›¾åƒå¤„ç†çš„ä¸‰å¤§æ ¸å¿ƒæŠ€èƒ½ï¼š<strong>å›¾åƒæ‰«ææ–¹æ³•</strong>ã€<strong>æŸ¥æ‰¾è¡¨ï¼ˆLUTï¼‰çš„åº”ç”¨</strong>ä»¥åŠ<strong>ç®—æ³•æ€§èƒ½æµ‹é‡</strong>ã€‚</p>
<h3 id="å›¾åƒçŸ©é˜µçš„å†…å­˜å­˜å‚¨">2.1. å›¾åƒçŸ©é˜µçš„å†…å­˜å­˜å‚¨</h3>
<p>åœ¨ OpenCV ä¸­ï¼Œå›¾åƒæ•°æ®ä»¥ <code>Mat</code>
å¯¹è±¡å­˜å‚¨ï¼Œå…¶å†…å­˜å¸ƒå±€ä¸é¢œè‰²é€šé“ç´§å¯†ç›¸å…³ï¼š</p>
<ol type="1">
<li><strong>ç°åº¦å›¾åƒ</strong>ï¼šæ¯ä¸ªåƒç´ å¯¹åº”ä¸€ä¸ª <code>uchar</code>
å€¼ï¼ˆ0-255ï¼‰ï¼ŒæŒ‰è¡Œè¿ç»­å­˜å‚¨ã€‚</li>
<li><strong>å½©è‰²å›¾åƒï¼ˆBGRï¼‰</strong>ï¼šæ¯ä¸ªåƒç´ åŒ…å«3ä¸ªé€šé“ï¼ˆè“ã€ç»¿ã€çº¢ï¼‰ï¼Œæ¯ä¸ªé€šé“ä¸€ä¸ª
<code>uchar</code> å€¼ã€‚<br />
<strong>æ³¨æ„</strong>ï¼šOpenCV é»˜è®¤ä½¿ç”¨ BGR é¡ºåºè€Œé RGB ï¼</li>
</ol>
<p>å†…å­˜ä¸­çš„å­˜å‚¨æ–¹å¼</p>
<ul>
<li><strong>æŒ‰è¡Œè¿ç»­å­˜å‚¨</strong>ï¼šåƒç´ æŒ‰è¡Œä¼˜å…ˆé¡ºåºæ’åˆ—ï¼Œæ¯è¡Œï¼ˆrowï¼‰ç§°ä¸ºä¸€ä¸ª
â€œé«˜åº¦â€ç»´åº¦ã€‚</li>
<li><strong>å¤šé€šé“æ•°æ®</strong>ï¼šæ¯ä¸ªåƒç´ çš„é€šé“å€¼è¿ç»­å­˜å‚¨ã€‚
<ul>
<li>ä¾‹å¦‚ï¼ŒBGR å›¾åƒçš„åƒç´ å­˜å‚¨é¡ºåºä¸º
<code>[B0, G0, R0, B1, G1, R1, ...]</code> ã€‚</li>
</ul></li>
<li>å¯èƒ½çš„å¡«å……å­—èŠ‚ (Padding)
<ul>
<li>æŸäº›æƒ…å†µä¸‹ï¼Œæ¯è¡Œæœ«å°¾å¯èƒ½æœ‰å¯¹é½å¡«å……ï¼ˆç”¨ <code>step</code>
å±æ€§è¡¨ç¤ºå®é™…æ¯è¡Œçš„å­—èŠ‚æ•°ï¼‰ã€‚</li>
</ul></li>
</ul>
<p>é€šè¿‡ <code>Mat::isContinuous()</code>
å¯åˆ¤æ–­çŸ©é˜µæ˜¯å¦è¿ç»­å­˜å‚¨ã€‚è‹¥è¿ç»­ï¼Œå¯å°†å›¾åƒè§†ä¸ºä¸€ç»´æ•°ç»„å¤„ç†ï¼Œæå‡éå†æ•ˆç‡ã€‚</p>
<h3 id="é¢œè‰²ç©ºé—´ç¼©å‡ç¤ºä¾‹">2.2. é¢œè‰²ç©ºé—´ç¼©å‡ç¤ºä¾‹</h3>
<p>å‡è®¾æˆ‘ä»¬éœ€è¦å°†å›¾åƒé¢œè‰²å€¼ä» 256 çº§ç¼©å‡åˆ°æ›´å°‘çš„çº§åˆ«ï¼ˆä¾‹å¦‚æ¯ 10
ä¸ªå€¼åˆå¹¶ä¸ºä¸€ä¸ªï¼‰ã€‚ç›´æ¥è®¡ç®—å…¬å¼ä¸ºï¼š<br />
<span class="math display">\[\nonumber
I_{\text{new}} = \lfloor \frac{I_{\text{old}}}{10} \rfloor \times 10
\]</span></p>
<p>ä½†é¢‘ç¹çš„é™¤æ³•å’Œä¹˜æ³•ä¼šæ‹–æ…¢æ€§èƒ½ã€‚æ­¤æ—¶ï¼Œ<strong>æŸ¥æ‰¾è¡¨ï¼ˆLookup Table,
LUTï¼‰</strong>å¯é¢„å…ˆè®¡ç®—æ‰€æœ‰å¯èƒ½çš„è¾“å…¥å€¼å¯¹åº”çš„è¾“å‡ºå€¼ï¼Œåç»­ç›´æ¥æ›¿æ¢ï¼Œå¤§å¹…æå‡æ•ˆç‡ã€‚</p>
<h4 id="æŸ¥æ‰¾è¡¨ç”Ÿæˆä»£ç ">2.2.1. æŸ¥æ‰¾è¡¨ç”Ÿæˆä»£ç </h4>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> divideWith = <span class="number">10</span>;</span><br><span class="line">uchar table[<span class="number">256</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">256</span>; ++i)</span><br><span class="line">    table[i] = (uchar)(divideWith * (i/divideWith));    <span class="comment">// è‡ªåŠ¨å‘ä¸‹å–æ•´</span></span><br></pre></td></tr></table></figure>
<h3 id="å›¾åƒæ‰«ææ–¹æ³•å¯¹æ¯”">2.3. å›¾åƒæ‰«ææ–¹æ³•å¯¹æ¯”</h3>
<h4 id="é«˜æ•ˆæ–¹æ³•æŒ‡é’ˆè®¿é—®">2.3.1. é«˜æ•ˆæ–¹æ³•ï¼šæŒ‡é’ˆè®¿é—®</h4>
<p>é€šè¿‡æŒ‡é’ˆç›´æ¥æ“ä½œå†…å­˜ï¼Œé€‚åˆè¿ç»­å­˜å‚¨çš„å›¾åƒã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">cv::Mat&amp; <span class="title">ScanImageWithPointer</span><span class="params">(cv::Mat&amp; image, <span class="type">const</span> uchar* table)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">CV_Assert</span>(image.<span class="built_in">depth</span>() == CV_8U);  <span class="comment">// ä»…å¤„ç†8ä½å›¾åƒ</span></span><br><span class="line">    <span class="type">int</span> channels = image.<span class="built_in">channels</span>();</span><br><span class="line">    <span class="type">int</span> rows = image.rows;</span><br><span class="line">    <span class="type">int</span> cols = image.cols * channels;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (image.<span class="built_in">isContinuous</span>()) &#123;</span><br><span class="line">        cols *= rows;</span><br><span class="line">        rows = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; rows; ++i) &#123;</span><br><span class="line">        uchar* p = image.<span class="built_in">ptr</span>&lt;uchar&gt;(i);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; cols; ++j)</span><br><span class="line">            p[j] = table[p[j]];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> image;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="å®‰å…¨æ–¹æ³•è¿­ä»£å™¨">2.3.2. å®‰å…¨æ–¹æ³•ï¼šè¿­ä»£å™¨</h4>
<p>ä½¿ç”¨ OpenCV è¿­ä»£å™¨è‡ªåŠ¨å¤„ç†è¡Œé—´éš™ï¼Œä»£ç æ›´å®‰å…¨ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">cv::Mat&amp; <span class="title">ScanImageWithIterator</span><span class="params">(cv::Mat&amp; image, <span class="type">const</span> uchar* table)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">CV_Assert</span>(image.<span class="built_in">depth</span>() == CV_8U);</span><br><span class="line">    <span class="keyword">if</span> (image.<span class="built_in">channels</span>() == <span class="number">1</span>) &#123;</span><br><span class="line">        cv::MatIterator_&lt;uchar&gt; it = image.<span class="built_in">begin</span>&lt;uchar&gt;();</span><br><span class="line">        cv::MatIterator_&lt;uchar&gt; end = image.<span class="built_in">end</span>&lt;uchar&gt;();</span><br><span class="line">        <span class="keyword">for</span> (; it != end; ++it)</span><br><span class="line">            *it = table[*it];</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (image.<span class="built_in">channels</span>() == <span class="number">3</span>) &#123;</span><br><span class="line">        cv::MatIterator_&lt;cv::Vec3b&gt; it = image.<span class="built_in">begin</span>&lt;cv::Vec3b&gt;();</span><br><span class="line">        cv::MatIterator_&lt;cv::Vec3b&gt; end = image.<span class="built_in">end</span>&lt;cv::Vec3b&gt;();</span><br><span class="line">        <span class="keyword">for</span> (; it != end; ++it) &#123;</span><br><span class="line">            (*it)[<span class="number">0</span>] = table[(*it)[<span class="number">0</span>]];  <span class="comment">// Bé€šé“</span></span><br><span class="line">            (*it)[<span class="number">1</span>] = table[(*it)[<span class="number">1</span>]];  <span class="comment">// Gé€šé“</span></span><br><span class="line">            (*it)[<span class="number">2</span>] = table[(*it)[<span class="number">2</span>]];  <span class="comment">// Ré€šé“</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> image;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="åŠ¨æ€åœ°å€è®¡ç®—at-æ–¹æ³•">2.3.3. åŠ¨æ€åœ°å€è®¡ç®—ï¼š<code>at</code>
æ–¹æ³•</h4>
<p>é€‚ç”¨äºéšæœºè®¿é—®ï¼Œä½†å…¨å›¾æ‰«ææ—¶æ€§èƒ½è¾ƒå·®ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">cv::Mat&amp; <span class="title">ScanImageWithAt</span><span class="params">(cv::Mat&amp; image, <span class="type">const</span> uchar* table)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">CV_Assert</span>(image.<span class="built_in">depth</span>() == CV_8U);</span><br><span class="line">    <span class="keyword">if</span> (image.<span class="built_in">channels</span>() == <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; image.rows; ++i)</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; image.cols; ++j)</span><br><span class="line">                image.<span class="built_in">at</span>&lt;uchar&gt;(i, j) = table[image.<span class="built_in">at</span>&lt;uchar&gt;(i, j)];</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (image.<span class="built_in">channels</span>() == <span class="number">3</span>) &#123;</span><br><span class="line">        cv::Mat_&lt;cv::Vec3b&gt; _I = image;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; image.rows; ++i)</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; image.cols; ++j) &#123;</span><br><span class="line">                _I(i, j)[<span class="number">0</span>] = table[_I(i, j)[<span class="number">0</span>]];  <span class="comment">// Bé€šé“</span></span><br><span class="line">                _I(i, j)[<span class="number">1</span>] = table[_I(i, j)[<span class="number">1</span>]];  <span class="comment">// Gé€šé“</span></span><br><span class="line">                _I(i, j)[<span class="number">2</span>] = table[_I(i, j)[<span class="number">2</span>]];  <span class="comment">// Ré€šé“</span></span><br><span class="line">            &#125;</span><br><span class="line">        image = _I;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> image;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="ç»ˆæä¼˜åŒ–opencv-å†…ç½®-lut-å‡½æ•°">2.4. ç»ˆæä¼˜åŒ–ï¼šOpenCV å†…ç½® LUT
å‡½æ•°</h3>
<p>ä½¿ç”¨ <code>cv::LUT()</code> å‡½æ•°ï¼Œåº•å±‚ä¼˜åŒ–æ›´é«˜æ•ˆï¼Œæ”¯æŒå¤šçº¿ç¨‹ã€‚</p>
<p><code>void cv::LUT (InputArray src, InputArray lut, OutputArray  dst)</code></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">cv::Mat <span class="title">ApplyLUT</span><span class="params">(cv::Mat&amp; image, <span class="type">const</span> uchar* table)</span> </span>&#123;</span><br><span class="line">    <span class="function">cv::Mat <span class="title">lookupTable</span><span class="params">(<span class="number">1</span>, <span class="number">256</span>, CV_8U)</span></span>;</span><br><span class="line">    uchar* p = lookupTable.<span class="built_in">ptr</span>();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">256</span>; ++i) p[i] = table[i];</span><br><span class="line">    </span><br><span class="line">    cv::Mat result;</span><br><span class="line">    cv::<span class="built_in">LUT</span>(image, lookupTable, result);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="æ€§èƒ½å¯¹æ¯”">2.5. æ€§èƒ½å¯¹æ¯”</h3>
<p>é€šè¿‡ <code>cv::getTickCount()</code> å’Œ
<code>cv::getTickFrequency()</code> æµ‹é‡æ—¶é—´ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">double</span> t = (<span class="type">double</span>)cv::<span class="built_in">getTickCount</span>();</span><br><span class="line"><span class="comment">// æ‰§è¡Œæ‰«ææ“ä½œ</span></span><br><span class="line">t = ((<span class="type">double</span>)cv::<span class="built_in">getTickCount</span>() - t) / cv::<span class="built_in">getTickFrequency</span>();</span><br><span class="line">std::cout &lt;&lt; <span class="string">&quot;è€—æ—¶ï¼ˆç§’ï¼‰: &quot;</span> &lt;&lt; t &lt;&lt; std::endl;</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">æ–¹æ³•</th>
<th style="text-align: left;">å¹³å‡è€—æ—¶ï¼ˆæ¯«ç§’ï¼‰</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">æŒ‡é’ˆè®¿é—®</td>
<td style="text-align: left;">79.47</td>
</tr>
<tr class="even">
<td style="text-align: left;">è¿­ä»£å™¨</td>
<td style="text-align: left;">83.72</td>
</tr>
<tr class="odd">
<td style="text-align: left;">åŠ¨æ€åœ°å€è®¡ç®—ï¼ˆatï¼‰</td>
<td style="text-align: left;">93.78</td>
</tr>
<tr class="even">
<td style="text-align: left;">LUTå‡½æ•°</td>
<td style="text-align: left;"><strong>32.58</strong></td>
</tr>
</tbody>
</table>
<p><strong>ç»“è®º</strong>ï¼š</p>
<ol type="1">
<li><strong>ä¼˜å…ˆä½¿ç”¨ OpenCV å†…ç½®å‡½æ•°</strong>ï¼ˆå¦‚
<code>LUT()</code>ï¼‰ï¼Œæ€§èƒ½æœ€ä½³ã€‚</li>
<li>éœ€è¦è‡ªå®šä¹‰éå†æ—¶ï¼Œ<strong>æŒ‡é’ˆè®¿é—®</strong>æœ€å¿«ï¼Œ<strong>è¿­ä»£å™¨</strong>æ›´å®‰å…¨ã€‚</li>
<li>é¿å…åœ¨å¾ªç¯ä¸­ä½¿ç”¨ <code>at</code> æ–¹æ³•è¿›è¡Œå…¨å›¾æ‰«æã€‚</li>
</ol>
<h3 id="å®æˆ˜å»ºè®®">2.6. å®æˆ˜å»ºè®®</h3>
<ul>
<li><strong>è¿ç»­å­˜å‚¨ä¼˜åŒ–</strong>ï¼šè‹¥å›¾åƒè¿ç»­ï¼ˆ<code>isContinuous() == true</code>ï¼‰ï¼Œå¯å°†å…¶è§†ä¸ºä¸€ç»´æ•°ç»„å¤„ç†ã€‚</li>
<li><strong>å¤šé€šé“å¤„ç†</strong>ï¼šæ³¨æ„ BGR
é¡ºåºï¼Œéå†æ—¶éœ€åˆ†åˆ«æ“ä½œæ¯ä¸ªé€šé“ã€‚</li>
<li><strong>è°ƒè¯•æŠ€å·§</strong>ï¼šåœ¨ Debugæ¨¡ å¼ä¸‹ï¼Œ<code>at</code>
æ–¹æ³•ä¼šæ£€æŸ¥è¶Šç•Œè®¿é—®ï¼Œé€‚åˆå¿«é€Ÿå®šä½é”™è¯¯ã€‚</li>
</ul>
<h2 id="å›¾åƒå¤„ç†ä¸­çš„æ©è†œæ“ä½œ">3. å›¾åƒå¤„ç†ä¸­çš„æ©è†œæ“ä½œ</h2>
<p>å›¾åƒå¤„ç†æ˜¯è®¡ç®—æœºè§†è§‰çš„æ ¸å¿ƒæŠ€æœ¯ä¹‹ä¸€ï¼Œè€Œ OpenCV
ä½œä¸ºæœ€æµè¡Œçš„å¼€æºåº“ï¼Œä¸ºå¼€å‘è€…æä¾›äº†ä¸°å¯Œçš„å·¥å…·ã€‚æœ¬èŠ‚å°†ä»‹ç» OpenCV
ä¸­çš„<strong>æ©è†œæ“ä½œ</strong>ï¼ˆMask
Operationsï¼‰ï¼Œä»¥å›¾åƒå¯¹æ¯”åº¦å¢å¼ºä¸ºä¾‹ï¼Œç†è§£å…¶åŸç†ä¸å®ç°ã€‚</p>
<h3 id="ä»€ä¹ˆæ˜¯æ©è†œæ“ä½œ">3.1. ä»€ä¹ˆæ˜¯æ©è†œæ“ä½œï¼Ÿ</h3>
<p>æ©è†œæ“ä½œé€šè¿‡ä¸€ä¸ªç§°ä¸º <strong>å†…æ ¸ï¼ˆKernelï¼‰</strong> æˆ–
<strong>æ©è†œï¼ˆMaskï¼‰</strong>
çš„å°çŸ©é˜µï¼Œå¯¹å›¾åƒä¸­çš„æ¯ä¸ªåƒç´ è¿›è¡ŒåŠ æƒè®¡ç®—ï¼Œä»è€Œè°ƒæ•´å…¶å€¼ã€‚è¿™ç§æ“ä½œæœ¬è´¨ä¸Šæ˜¯å°†å½“å‰åƒç´ åŠå…¶é‚»åŸŸåƒç´ çš„å€¼æŒ‰æƒé‡ç›¸åŠ ï¼Œå¸¸ç”¨äºå›¾åƒæ»¤æ³¢ã€è¾¹ç¼˜æ£€æµ‹ã€é”åŒ–ç­‰ä»»åŠ¡ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå¯¹æ¯”åº¦å¢å¼ºçš„å…¬å¼ä¸ºï¼š<br />
<span class="math display">\[ \nonumber I(i,j) = 5 \cdot I(i,j) -
[I(i-1,j) + I(i+1,j) + I(i,j-1) + I(i,j+1)] \]</span></p>
<p>å¯¹åº”çš„å†…æ ¸çŸ©é˜µä¸ºï¼š<br />
<span class="math display">\[ \nonumber
M = \begin{bmatrix}
0 &amp; -1 &amp; 0 \\
-1 &amp; 5 &amp; -1 \\
0 &amp; -1 &amp; 0
\end{bmatrix}
\]</span><br />
ä¸­å¿ƒåƒç´ æƒé‡ä¸º 5ï¼Œä¸Šä¸‹å·¦å³åƒç´ æƒé‡ä¸º -1ï¼Œå…¶ä½™ä¸º 0
ã€‚é€šè¿‡è¯¥å†…æ ¸ï¼Œå¯ä»¥çªå‡ºä¸­å¿ƒåƒç´ ï¼Œå¢å¼ºå›¾åƒç»†èŠ‚ã€‚</p>
<h3 id="æ‰‹åŠ¨å®ç°æ©è†œæ“ä½œ">3.2. æ‰‹åŠ¨å®ç°æ©è†œæ“ä½œ</h3>
<h4 id="å…³é”®æ­¥éª¤">3.2.1. å…³é”®æ­¥éª¤</h4>
<ol type="1">
<li><strong>è¾¹ç•Œå¤„ç†</strong>ï¼šå›¾åƒè¾¹ç¼˜çš„åƒç´ ç¼ºå°‘é‚»åŸŸï¼Œé€šå¸¸ç›´æ¥è®¾ä¸º0ã€‚</li>
<li><strong>éå†åƒç´ </strong>ï¼šä½¿ç”¨æŒ‡é’ˆé€è¡Œè®¿é—®åƒç´ ï¼Œé¿å…ç›´æ¥ä¿®æ”¹åŸå›¾ã€‚</li>
<li><strong>åŠ æƒè®¡ç®—</strong>ï¼šæ ¹æ®å†…æ ¸å…¬å¼é‡æ–°è®¡ç®—æ¯ä¸ªåƒç´ çš„å€¼ã€‚</li>
</ol>
<h4 id="ä»£ç ç¤ºä¾‹ç®€åŒ–ç‰ˆ">3.2.2. ä»£ç ç¤ºä¾‹ï¼ˆç®€åŒ–ç‰ˆï¼‰</h4>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">Sharpen</span><span class="params">(<span class="type">const</span> cv::Mat&amp; input, cv::Mat&amp; output)</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">CV_Assert</span>(input.<span class="built_in">depth</span>() == CV_8U);  <span class="comment">// ç¡®ä¿è¾“å…¥å›¾åƒä¸º8ä½å›¾åƒ</span></span><br><span class="line"></span><br><span class="line">    <span class="type">const</span> <span class="type">int</span> channels = input.<span class="built_in">channels</span>();</span><br><span class="line">    output.<span class="built_in">create</span>(input.<span class="built_in">size</span>(), input.<span class="built_in">type</span>());  <span class="comment">// åˆ›å»ºä¸è¾“å…¥å›¾åƒå¤§å°å’Œç±»å‹ç›¸åŒçš„è¾“å‡ºå›¾åƒ</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> row = <span class="number">1</span>; row &lt; input.rows - <span class="number">1</span>; row++) &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="type">const</span> uchar* prev = input.<span class="built_in">ptr</span>&lt;uchar&gt;(row - <span class="number">1</span>);  <span class="comment">// è·å–ä¸Šä¸€è¡Œçš„æŒ‡é’ˆ</span></span><br><span class="line">        <span class="type">const</span> uchar* curr = input.<span class="built_in">ptr</span>&lt;uchar&gt;(row);  <span class="comment">// è·å–å½“å‰è¡Œçš„æŒ‡é’ˆ</span></span><br><span class="line">        <span class="type">const</span> uchar* next = input.<span class="built_in">ptr</span>&lt;uchar&gt;(row + <span class="number">1</span>);  <span class="comment">// è·å–ä¸‹ä¸€è¡Œçš„æŒ‡é’ˆ</span></span><br><span class="line">        uchar* out = output.<span class="built_in">ptr</span>&lt;uchar&gt;(row);    <span class="comment">// è·å–è¾“å‡ºå›¾åƒå½“å‰è¡Œçš„æŒ‡é’ˆ</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> col = channels; col &lt; channels * (input.cols - <span class="number">1</span>); col++) &#123;</span><br><span class="line">            <span class="comment">// åº”ç”¨å…¬å¼ï¼š5*å½“å‰åƒç´  - ä¸Šä¸‹å·¦å³åƒç´ </span></span><br><span class="line">            out[col] = cv::<span class="built_in">saturate_cast</span>&lt;uchar&gt;(</span><br><span class="line">                <span class="number">5</span> * curr[col] - (curr[col - channels] + curr[col + channels] + prev[col] + next[col])</span><br><span class="line">            );</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¾¹ç•Œç½®0</span></span><br><span class="line">    output.<span class="built_in">row</span>(<span class="number">0</span>).<span class="built_in">setTo</span>(cv::<span class="built_in">Scalar</span>(<span class="number">0</span>));</span><br><span class="line">    output.<span class="built_in">row</span>(output.rows - <span class="number">1</span>).<span class="built_in">setTo</span>(cv::<span class="built_in">Scalar</span>(<span class="number">0</span>));</span><br><span class="line">    output.<span class="built_in">col</span>(<span class="number">0</span>).<span class="built_in">setTo</span>(cv::<span class="built_in">Scalar</span>(<span class="number">0</span>));</span><br><span class="line">    output.<span class="built_in">col</span>(output.cols - <span class="number">1</span>).<span class="built_in">setTo</span>(cv::<span class="built_in">Scalar</span>(<span class="number">0</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<details class="note info"><summary><p><code>cv::saturate_cast</code></p>
</summary>
<p>åœ¨å›¾åƒå¤„ç†æ–¹é¢ï¼Œæ— è®ºæ˜¯åŠ æ˜¯å‡ï¼Œä¹˜é™¤ï¼Œéƒ½å¯èƒ½ä¼šè¶…å‡ºä¸€ä¸ªåƒç´ ç°åº¦å€¼çš„èŒƒå›´ï¼ˆ0ï½255ï¼‰ï¼Œ<code>saturate_cast</code>
å‡½æ•°çš„ä½œç”¨å³æ˜¯ï¼šå½“è¿ç®—å®Œä¹‹åï¼Œç»“æœä¸ºè´Ÿï¼Œåˆ™è½¬ä¸º 0ï¼Œç»“æœè¶…å‡º 255ï¼Œåˆ™ä¸º
255ã€‚</p>

</details>
<h3 id="ä½¿ç”¨opencvå†…ç½®å‡½æ•°-filter2d">3.3. ä½¿ç”¨OpenCVå†…ç½®å‡½æ•°
<code>filter2D</code></h3>
<p>æ‰‹åŠ¨å®ç°æ©è†œæ“ä½œè™½ç„¶ç›´è§‚ï¼Œä½†ä»£ç å†—é•¿ä¸”æ•ˆç‡è¾ƒä½ã€‚OpenCV æä¾›äº†
<code>filter2D</code>
å‡½æ•°ï¼Œå¯ç›´æ¥åº”ç”¨å†…æ ¸çŸ©é˜µï¼Œä»£ç æ›´ç®€æ´ä¸”æ€§èƒ½æ›´ä¼˜ã€‚</p>
<h4 id="ä»£ç ç¤ºä¾‹">3.3.1. ä»£ç ç¤ºä¾‹</h4>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">cv::Mat kernel = (cv::<span class="built_in">Mat_</span>&lt;<span class="type">char</span>&gt;(<span class="number">3</span>, <span class="number">3</span>) &lt;&lt; </span><br><span class="line">    <span class="number">0</span>, <span class="number">-1</span>, <span class="number">0</span>,</span><br><span class="line">    <span class="number">-1</span>, <span class="number">5</span>, <span class="number">-1</span>,</span><br><span class="line">    <span class="number">0</span>, <span class="number">-1</span>, <span class="number">0</span></span><br><span class="line">);</span><br><span class="line">cv::Mat result;</span><br><span class="line"><span class="comment">// void filter2D( InputArray src, OutputArray dst, int ddepth,</span></span><br><span class="line"><span class="comment">//              InputArray kernel, Point anchor = Point(-1,-1), double delta = 0,</span></span><br><span class="line"><span class="comment">//              int borderType = BORDER_DEFAULT );</span></span><br><span class="line">cv::<span class="built_in">filter2D</span>(input, result, input.<span class="built_in">depth</span>(), kernel);</span><br></pre></td></tr></table></figure>
<h4 id="ä¼˜åŠ¿">3.3.2. ä¼˜åŠ¿</h4>
<ul>
<li><strong>é«˜æ•ˆæ€§</strong>ï¼šå†…ç½®å‡½æ•°ç»è¿‡ä¼˜åŒ–ï¼Œé€Ÿåº¦æ›´å¿«ï¼ˆæµ‹è¯•ä¸­æ‰‹åŠ¨å®ç°éœ€
31msï¼Œ<code>filter2D</code> ä»…éœ€ 13msï¼‰ã€‚</li>
<li><strong>çµæ´»æ€§</strong>ï¼šæ”¯æŒè‡ªå®šä¹‰å†…æ ¸ä¸­å¿ƒã€è¾¹ç•Œå¤„ç†æ¨¡å¼ï¼ˆå¦‚å¡«å……ã€é•œåƒç­‰ï¼‰ã€‚</li>
</ul>
<h3 id="æ€§èƒ½å¯¹æ¯”ä¸é€‚ç”¨åœºæ™¯">3.4. æ€§èƒ½å¯¹æ¯”ä¸é€‚ç”¨åœºæ™¯</h3>
<table>
<thead>
<tr class="header">
<th style="text-align: center;">æ–¹æ³•</th>
<th style="text-align: center;">ä¼˜ç‚¹</th>
<th style="text-align: center;">ç¼ºç‚¹</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">æ‰‹åŠ¨å®ç°</td>
<td style="text-align: center;">ç†è§£åº•å±‚åŸç†ï¼Œçµæ´»è°ƒè¯•</td>
<td style="text-align: center;">ä»£ç å¤æ‚ï¼Œæ€§èƒ½è¾ƒä½</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>filter2D</code></td>
<td style="text-align: center;">ç®€æ´é«˜æ•ˆï¼Œæ”¯æŒé«˜çº§åŠŸèƒ½</td>
<td style="text-align: center;">éœ€ç†Ÿæ‚‰å†…æ ¸çŸ©é˜µçš„æ„å»º</td>
</tr>
</tbody>
</table>
<p><strong>æ¨èåœºæ™¯</strong>ï¼š</p>
<ul>
<li>å­¦ä¹ é˜¶æ®µï¼šå»ºè®®æ‰‹åŠ¨å®ç°ï¼Œæ·±å…¥ç†è§£åƒç´ æ“ä½œåŸç†ã€‚<br />
</li>
<li>å®é™…é¡¹ç›®ï¼šä¼˜å…ˆä½¿ç”¨ <code>filter2D</code>
ï¼Œæå‡æ•ˆç‡å¹¶å‡å°‘ä»£ç é‡ã€‚</li>
</ul>
<h3 id="æ€»ç»“">3.5. æ€»ç»“</h3>
<p>æ©è†œæ“ä½œæ˜¯å›¾åƒå¤„ç†çš„åŸºç¡€æŠ€æœ¯ï¼ŒOpenCV
æä¾›äº†çµæ´»çš„å®ç°æ–¹å¼ã€‚é€šè¿‡å¯¹æ¯”æ‰‹åŠ¨å®ç°ä¸å†…ç½®å‡½æ•°ï¼Œå¼€å‘è€…å¯ä»¥æ ¹æ®éœ€æ±‚é€‰æ‹©æœ€ä½³æ–¹æ¡ˆã€‚æŒæ¡è¿™ä¸€æŠ€æœ¯åï¼Œå¯è¿›ä¸€æ­¥æ¢ç´¢é«˜æ–¯æ¨¡ç³Šã€è¾¹ç¼˜æ£€æµ‹ï¼ˆå¦‚
Sobel ç®—å­ï¼‰ç­‰è¿›é˜¶åº”ç”¨ã€‚</p>
<p><strong>åŠ¨æ‰‹å°è¯•</strong>ï¼š</p>
<ol type="1">
<li>ä¿®æ”¹å†…æ ¸çŸ©é˜µï¼Œè§‚å¯Ÿå›¾åƒå˜åŒ–ï¼ˆä¾‹å¦‚é”åŒ–ã€æ¨¡ç³Šï¼‰ã€‚<br />
</li>
<li>å¯¹æ¯”ä¸åŒè¾¹ç•Œå¤„ç†æ¨¡å¼çš„æ•ˆæœï¼ˆå¦‚ <code>BORDER_REFLECT</code> æˆ–
<code>BORDER_CONSTANT</code> ï¼‰ã€‚</li>
</ol>
<h2 id="å›¾åƒåŸºç¡€æ“ä½œ">4. å›¾åƒåŸºç¡€æ“ä½œ</h2>
<p>ä»‹ç»å›¾åƒå¤„ç†çš„åŸºç¡€æ“ä½œï¼Œæ¶µç›–å›¾åƒåŠ è½½ã€åƒç´ æ“ä½œã€å†…å­˜ç®¡ç†åŠå¯è§†åŒ–ç­‰æ ¸å¿ƒå†…å®¹ã€‚</p>
<h3 id="å›¾åƒè¾“å…¥è¾“å‡º">4.1. å›¾åƒè¾“å…¥è¾“å‡º</h3>
<h4 id="åŠ è½½å›¾åƒ">4.1.1. åŠ è½½å›¾åƒ</h4>
<p>ä½¿ç”¨ <code>cv::imread</code> åŠ è½½å›¾åƒæ—¶ï¼Œé»˜è®¤è¯»å–ä¸º BGR
ä¸‰é€šé“æ ¼å¼ã€‚è‹¥éœ€ç°åº¦å›¾ï¼Œéœ€æ˜¾å¼æŒ‡å®šå‚æ•°ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cv::Mat img = cv::<span class="built_in">imread</span>(<span class="string">&quot;image.jpg&quot;</span>); <span class="comment">// ä¸‰é€šé“BGRå›¾åƒ</span></span><br><span class="line">cv::Mat gray_img = cv::<span class="built_in">imread</span>(<span class="string">&quot;image.jpg&quot;</span>, cv::IMREAD_GRAYSCALE); <span class="comment">// å•é€šé“ç°åº¦å›¾</span></span><br></pre></td></tr></table></figure>
<h4 id="ä¿å­˜å›¾åƒ">4.1.2. ä¿å­˜å›¾åƒ</h4>
<p>å›¾åƒä¿å­˜æ ¼å¼ç”±æ–‡ä»¶æ‰©å±•åå†³å®šï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cv::<span class="built_in">imwrite</span>(<span class="string">&quot;output.png&quot;</span>, img); <span class="comment">// ä¿å­˜ä¸ºPNGæ ¼å¼</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>æ³¨æ„</strong>ï¼šè‹¥éœ€ä»å†…å­˜è¯»å†™å›¾åƒï¼Œä½¿ç”¨
<code>cv::imdecode</code> å’Œ <code>cv::imencode</code>ã€‚</p>
</blockquote>
<h3 id="åƒç´ æ“ä½œ">4.2. åƒç´ æ“ä½œ</h3>
<h4 id="è®¿é—®åƒç´ å€¼">4.2.1. è®¿é—®åƒç´ å€¼</h4>
<ul>
<li><p><strong>å•é€šé“ç°åº¦å›¾</strong>ï¼ˆ8UC1ï¼‰ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uchar intensity = img.<span class="built_in">at</span>&lt;uchar&gt;(y, x); <span class="comment">// æ³¨æ„åæ ‡é¡ºåºä¸º(y, x)</span></span><br></pre></td></tr></table></figure></li>
<li><p><strong>ä¸‰é€šé“ BGR å›¾åƒ</strong>ï¼ˆ8UC3ï¼‰ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cv::Vec3b bgr_pixel = img.<span class="built_in">at</span>&lt;cv::Vec3b&gt;(y, x);</span><br><span class="line">uchar blue = bgr_pixel[<span class="number">0</span>];  <span class="comment">// Bé€šé“</span></span><br><span class="line">uchar green = bgr_pixel[<span class="number">1</span>]; <span class="comment">// Gé€šé“</span></span><br><span class="line">uchar red = bgr_pixel[<span class="number">2</span>];   <span class="comment">// Ré€šé“</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="ä¿®æ”¹åƒç´ å€¼">4.2.2. ä¿®æ”¹åƒç´ å€¼</h4>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">img.<span class="built_in">at</span>&lt;uchar&gt;(y, x) = <span class="number">128</span>; <span class="comment">// å°†ç°åº¦å›¾åƒç´ è®¾ä¸º128</span></span><br><span class="line">img.<span class="built_in">at</span>&lt;cv::Vec3b&gt;(y, x) = cv::<span class="built_in">Vec3b</span>(<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>); <span class="comment">// è®¾ä¸ºè“è‰²</span></span><br></pre></td></tr></table></figure>
<h3 id="å†…å­˜ç®¡ç†ä¸å¼•ç”¨è®¡æ•°">4.3. å†…å­˜ç®¡ç†ä¸å¼•ç”¨è®¡æ•°</h3>
<h4 id="æ•°æ®å…±äº«æœºåˆ¶">4.3.1. æ•°æ®å…±äº«æœºåˆ¶</h4>
<p><code>cv::Mat</code>
é€šè¿‡å¼•ç”¨è®¡æ•°ç®¡ç†å†…å­˜ï¼Œå¤šä¸ªå®ä¾‹å¯å…±äº«åŒä¸€æ•°æ®å—ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">std::vector&lt;cv::Point3f&gt; points;</span><br><span class="line"><span class="comment">// ...å¡«å……æ•°æ®</span></span><br><span class="line">cv::Mat points_mat = cv::<span class="built_in">Mat</span>(points).<span class="built_in">reshape</span>(<span class="number">1</span>); <span class="comment">// å…±äº«æ•°æ®ï¼Œä¸å¤åˆ¶</span></span><br></pre></td></tr></table></figure>
<h4 id="æ˜¾å¼å¤åˆ¶æ•°æ®">4.3.2. æ˜¾å¼å¤åˆ¶æ•°æ®</h4>
<p>éœ€ç‹¬ç«‹æ“ä½œæ•°æ®æ—¶ï¼Œä½¿ç”¨ <code>clone()</code> æˆ–
<code>copyTo()</code>ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cv::Mat img_clone = img.<span class="built_in">clone</span>(); <span class="comment">// æ·±æ‹·è´</span></span><br><span class="line">cv::Mat img_copy;</span><br><span class="line">img.<span class="built_in">copyTo</span>(img_copy); <span class="comment">// æ·±æ‹·è´ï¼ˆç›®æ ‡ä¸ºç©ºçŸ©é˜µæ—¶ï¼‰</span></span><br></pre></td></tr></table></figure>
<h3 id="åŸºæœ¬å›¾åƒæ“ä½œ">4.4. åŸºæœ¬å›¾åƒæ“ä½œ</h3>
<h4 id="å›¾åƒç½®é»‘">4.4.1. å›¾åƒç½®é»‘</h4>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">img = cv::<span class="built_in">Scalar</span>(<span class="number">0</span>); <span class="comment">// æ‰€æœ‰åƒç´ è®¾ä¸º0ï¼ˆé»‘è‰²ï¼‰</span></span><br></pre></td></tr></table></figure>
<h4 id="é€‰æ‹©æ„Ÿå…´è¶£åŒºåŸŸroi">4.4.2. é€‰æ‹©æ„Ÿå…´è¶£åŒºåŸŸï¼ˆROIï¼‰</h4>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">cv::Rect <span class="title">roi</span><span class="params">(<span class="number">10</span>, <span class="number">10</span>, <span class="number">100</span>, <span class="number">100</span>)</span></span>; <span class="comment">// (x, y, width, height)</span></span><br><span class="line">cv::Mat small_img = <span class="built_in">img</span>(roi);   <span class="comment">// æå–ROI</span></span><br></pre></td></tr></table></figure>
<h4 id="é¢œè‰²ç©ºé—´è½¬æ¢">4.4.3. é¢œè‰²ç©ºé—´è½¬æ¢</h4>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cv::Mat gray;</span><br><span class="line">cv::<span class="built_in">cvtColor</span>(img, gray, cv::COLOR_BGR2GRAY); <span class="comment">// BGRè½¬ç°åº¦</span></span><br></pre></td></tr></table></figure>
<h4 id="å›¾åƒç±»å‹è½¬æ¢">4.4.4. å›¾åƒç±»å‹è½¬æ¢</h4>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cv::Mat src_32f;</span><br><span class="line">src.<span class="built_in">convertTo</span>(src_32f, CV_32F); <span class="comment">// 8UC1è½¬32FC1</span></span><br></pre></td></tr></table></figure>
<h3 id="å›¾åƒå¯è§†åŒ–">4.5. å›¾åƒå¯è§†åŒ–</h3>
<h4 id="æ˜¾ç¤º-8-ä½å›¾åƒ">4.5.1. æ˜¾ç¤º 8 ä½å›¾åƒ</h4>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cv::<span class="built_in">namedWindow</span>(<span class="string">&quot;Display&quot;</span>, cv::WINDOW_AUTOSIZE);</span><br><span class="line">cv::<span class="built_in">imshow</span>(<span class="string">&quot;Display&quot;</span>, img);</span><br><span class="line">cv::<span class="built_in">waitKey</span>(<span class="number">0</span>); <span class="comment">// ç­‰å¾…æŒ‰é”®</span></span><br></pre></td></tr></table></figure>
<h4 id="æ˜¾ç¤ºæµ®ç‚¹å›¾åƒ">4.5.2. æ˜¾ç¤ºæµ®ç‚¹å›¾åƒ</h4>
<p>éœ€å°† 32F ç±»å‹å½’ä¸€åŒ–åˆ° 0~255 èŒƒå›´ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">cv::Mat sobelx;</span><br><span class="line">cv::<span class="built_in">Sobel</span>(gray, sobelx, CV_32F, <span class="number">1</span>, <span class="number">0</span>); <span class="comment">// è®¡ç®—Sobelæ¢¯åº¦</span></span><br><span class="line"></span><br><span class="line"><span class="type">double</span> min_val, max_val;</span><br><span class="line">cv::<span class="built_in">minMaxLoc</span>(sobelx, &amp;min_val, &amp;max_val); <span class="comment">// è·å–æå€¼</span></span><br><span class="line"></span><br><span class="line">cv::Mat draw;</span><br><span class="line">sobelx.<span class="built_in">convertTo</span>(draw, CV_8U, <span class="number">255.0</span>/(max_val - min_val), -min_val*<span class="number">255.0</span>/(max_val - min_val));</span><br><span class="line">cv::<span class="built_in">imshow</span>(<span class="string">&quot;Sobel&quot;</span>, draw);</span><br><span class="line">cv::<span class="built_in">waitKey</span>(<span class="number">0</span>);</span><br><span class="line">cv::<span class="built_in">destroyWindow</span>(<span class="string">&quot;Sobel&quot;</span>);</span><br></pre></td></tr></table></figure>
<h3 id="æ€»ç»“-1">4.6. æ€»ç»“</h3>
<p>ä»‹ç»äº† OpenCV
ä¸­å›¾åƒå¤„ç†çš„åŸºç¡€æ“ä½œï¼ŒåŒ…æ‹¬åŠ è½½/ä¿å­˜ã€åƒç´ è®¿é—®ã€å†…å­˜ç®¡ç†å’Œå¯è§†åŒ–ã€‚å¯ä»¥è¿›ä¸€æ­¥ç»“åˆå®˜æ–¹æ–‡æ¡£æ¢ç´¢é«˜çº§åŠŸèƒ½ï¼ˆå¦‚æ»¤æ³¢ã€ç‰¹å¾æ£€æµ‹ç­‰ï¼‰ã€‚</p>
<h2 id="ä½¿ç”¨cvaddweightedå®ç°å›¾åƒçº¿æ€§æ··åˆ">5.
ä½¿ç”¨cv::addWeightedå®ç°å›¾åƒçº¿æ€§æ··åˆ</h2>
<p>åœ¨è®¡ç®—æœºè§†è§‰ä¸­ï¼Œå›¾åƒæ··åˆæ˜¯ä¸€é¡¹åŸºç¡€ä¸”å®ç”¨çš„æŠ€æœ¯ã€‚é€šè¿‡è°ƒæ•´æƒé‡å‚æ•°ï¼Œå¯ä»¥å®ç°ä¸¤å¼ å›¾ç‰‡çš„å¹³æ»‘è¿‡æ¸¡æ•ˆæœï¼Œä¾‹å¦‚å¹»ç¯ç‰‡åˆ‡æ¢æˆ–è§†é¢‘è½¬åœºã€‚æœ¬èŠ‚ä»‹ç»å¦‚ä½•ä½¿ç”¨
<code>cv::addWeighted</code> å‡½æ•°å®ç°å›¾åƒçš„çº¿æ€§æ··åˆã€‚</p>
<h3 id="ç†è®ºèƒŒæ™¯">5.1. ç†è®ºèƒŒæ™¯</h3>
<p>çº¿æ€§æ··åˆçš„æ•°å­¦è¡¨è¾¾å¼ä¸ºï¼š<br />
<span class="math display">\[\nonumber
g(x) = (1 - \alpha) \cdot f_0(x) + \alpha \cdot f_1(x)
\]</span><br />
å…¶ä¸­ï¼Œ<span class="math inline">\(\alpha\)</span> çš„å–å€¼èŒƒå›´ä¸º <span
class="math inline">\([0, 1]\)</span>ã€‚å½“ <span
class="math inline">\(\alpha\)</span> ä» 0 é€æ¸å¢åŠ åˆ° 1 æ—¶ï¼Œè¾“å‡ºå›¾åƒä¼šä»
<span class="math inline">\(f_0\)</span> å¹³æ»‘è¿‡æ¸¡åˆ° <span
class="math inline">\(f_1\)</span>ã€‚</p>
<h3 id="ä»£ç å®ç°">5.2. ä»£ç å®ç°</h3>
<p>ä»¥ä¸‹æ˜¯ä½¿ç”¨ C++ å’Œ OpenCV å®ç°å›¾åƒæ··åˆçš„å®Œæ•´ä»£ç ï¼š</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;opencv2/opencv.hpp&gt;</span><span class="pp">  </span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;iostream&gt;</span><span class="pp">  </span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">()</span> <span class="op">&#123;</span>  </span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt">double</span> alpha <span class="op">=</span> <span class="fl">0.5</span><span class="op">;</span>  </span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>    <span class="dt">double</span> beta<span class="op">,</span> user_input<span class="op">;</span>  </span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>    <span class="co">// è¯»å–ä¸¤å¼ å›¾ç‰‡  </span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>    cv<span class="op">::</span>Mat src1 <span class="op">=</span> cv<span class="op">::</span>imread<span class="op">(</span>cv<span class="op">::</span>samples<span class="op">::</span>findFile<span class="op">(</span><span class="st">&quot;LinuxLogo.jpg&quot;</span><span class="op">));</span>  </span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>    cv<span class="op">::</span>Mat src2 <span class="op">=</span> cv<span class="op">::</span>imread<span class="op">(</span>cv<span class="op">::</span>samples<span class="op">::</span>findFile<span class="op">(</span><span class="st">&quot;WindowsLogo.jpg&quot;</span><span class="op">));</span>  </span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>    <span class="co">// æ£€æŸ¥å›¾ç‰‡æ˜¯å¦åŠ è½½æˆåŠŸ  </span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="op">(</span>src1<span class="op">.</span>empty<span class="op">())</span> <span class="op">&#123;</span>  </span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>        <span class="bu">std::</span>cout <span class="op">&lt;&lt;</span> <span class="st">&quot;é”™è¯¯ï¼šæ— æ³•åŠ è½½src1&quot;</span> <span class="op">&lt;&lt;</span> <span class="bu">std::</span>endl<span class="op">;</span>  </span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="op">-</span><span class="dv">1</span><span class="op">;</span>  </span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#125;</span>  </span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="op">(</span>src2<span class="op">.</span>empty<span class="op">())</span> <span class="op">&#123;</span>  </span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>        <span class="bu">std::</span>cout <span class="op">&lt;&lt;</span> <span class="st">&quot;é”™è¯¯ï¼šæ— æ³•åŠ è½½src2&quot;</span> <span class="op">&lt;&lt;</span> <span class="bu">std::</span>endl<span class="op">;</span>  </span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="op">-</span><span class="dv">1</span><span class="op">;</span>  </span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#125;</span>  </span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>    <span class="co">// è·å–ç”¨æˆ·è¾“å…¥çš„alphaå€¼  </span></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>    <span class="bu">std::</span>cout <span class="op">&lt;&lt;</span> <span class="st">&quot;è¯·è¾“å…¥alphaå€¼ï¼ˆ0.0-1.0ï¼‰: &quot;</span><span class="op">;</span>  </span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>    <span class="bu">std::</span>cin <span class="op">&gt;&gt;</span> user_input<span class="op">;</span>  </span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="op">(</span>user_input <span class="op">&gt;=</span> <span class="dv">0</span> <span class="op">&amp;&amp;</span> user_input <span class="op">&lt;=</span> <span class="dv">1</span><span class="op">)</span> <span class="op">&#123;</span>  </span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>        alpha <span class="op">=</span> user_input<span class="op">;</span>  </span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#125;</span>  </span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>    beta <span class="op">=</span> <span class="fl">1.0</span> <span class="op">-</span> alpha<span class="op">;</span>  </span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>    cv<span class="op">::</span>Mat dst<span class="op">;</span>  </span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a>    <span class="co">// æ‰§è¡Œçº¿æ€§æ··åˆ</span></span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a>    <span class="co">// void addWeighted(InputArray src1, double alpha, InputArray src2,</span></span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a>    <span class="co">//                  double beta, double gamma, OutputArray dst,</span></span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a>    <span class="co">//                  int //dtype = -1);</span></span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a>    cv<span class="op">::</span>addWeighted<span class="op">(</span>src1<span class="op">,</span> alpha<span class="op">,</span> src2<span class="op">,</span> beta<span class="op">,</span> <span class="fl">0.0</span><span class="op">,</span> dst<span class="op">);</span>  </span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a>    <span class="co">// æ˜¾ç¤ºç»“æœ  </span></span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a>    cv<span class="op">::</span>imshow<span class="op">(</span><span class="st">&quot;æ··åˆç»“æœ&quot;</span><span class="op">,</span> dst<span class="op">);</span>  </span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a>    cv<span class="op">::</span>waitKey<span class="op">(</span><span class="dv">0</span><span class="op">);</span>  </span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span>  </span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true" tabindex="-1"></a><span class="op">&#125;</span>  </span></code></pre></div>
<h3 id="å…³é”®ä»£ç è§£æ">5.3. å…³é”®ä»£ç è§£æ</h3>
<ol type="1">
<li><strong>åŠ è½½å›¾ç‰‡</strong>
<ul>
<li>ä½¿ç”¨ <code>cv::imread</code> è¯»å–å›¾ç‰‡ï¼Œå¹¶é€šè¿‡
<code>cv::samples::findFile</code> ç¡®ä¿è·¯å¾„æ­£ç¡®ã€‚<br />
</li>
</ul></li>
<li><strong>è¾“å…¥éªŒè¯</strong>
<ul>
<li>ç”¨æˆ·è¾“å…¥çš„ <span class="math inline">\(\alpha\)</span> å€¼é€šè¿‡
<code>std::cin</code> è·å–ï¼Œå¹¶é™åˆ¶åœ¨ <code>[0, 1]</code> èŒƒå›´å†…ã€‚<br />
</li>
</ul></li>
<li><strong>æ··åˆè®¡ç®—</strong>
<ul>
<li><code>cv::addWeighted</code> å‡½æ•°çš„å‚æ•°ä¾æ¬¡ä¸ºï¼š
<ul>
<li><code>src1</code>ï¼šç¬¬ä¸€å¼ è¾“å…¥å›¾åƒã€‚<br />
</li>
<li><code>alpha</code>ï¼šç¬¬ä¸€å¼ å›¾åƒçš„æƒé‡ã€‚<br />
</li>
<li><code>src2</code>ï¼šç¬¬äºŒå¼ è¾“å…¥å›¾åƒã€‚<br />
</li>
<li><code>beta</code>ï¼šç¬¬äºŒå¼ å›¾åƒçš„æƒé‡ï¼ˆé€šå¸¸ä¸º <code>1 - alpha</code>
ï¼‰ã€‚<br />
</li>
<li><code>gamma</code>ï¼šæ ‡é‡åç§»é‡ï¼ˆæ­¤å¤„è®¾ä¸º0ï¼‰ã€‚<br />
</li>
<li><code>dst</code>ï¼šè¾“å‡ºå›¾åƒã€‚</li>
</ul></li>
</ul></li>
</ol>
<h3 id="æ³¨æ„äº‹é¡¹">5.4. æ³¨æ„äº‹é¡¹</h3>
<ol type="1">
<li><strong>å›¾ç‰‡å°ºå¯¸ä¸ç±»å‹</strong>
<ul>
<li>è¾“å…¥çš„ä¸¤å¼ å›¾åƒå¿…é¡»å…·æœ‰ç›¸åŒçš„å°ºå¯¸ï¼ˆå®½åº¦å’Œé«˜åº¦ï¼‰å’Œæ•°æ®ç±»å‹ï¼Œå¦åˆ™ä¼šå¯¼è‡´è¿è¡Œæ—¶é”™è¯¯ã€‚<br />
</li>
</ul></li>
<li><strong>æ‰©å±•åº”ç”¨</strong>
<ul>
<li>æ­¤æŠ€æœ¯å¯ç”¨äºåˆ›å»ºåŠ¨æ€æ•ˆæœï¼Œå¦‚è§†é¢‘æ·¡å…¥æ·¡å‡ºã€AR åœºæ™¯å åŠ ç­‰ã€‚</li>
</ul></li>
</ol>
<h3 id="æ€»ç»“-2">5.5. æ€»ç»“</h3>
<p>é€šè¿‡ <code>cv::addWeighted</code> å‡½æ•°ï¼ŒOpenCV
ä¸ºå›¾åƒæ··åˆæä¾›äº†ä¸€ç§ç®€æ´é«˜æ•ˆçš„å®ç°æ–¹å¼ã€‚æŒæ¡è¿™ä¸€æŠ€æœ¯åï¼Œå¯ä»¥è¿›ä¸€æ­¥æ¢ç´¢æ›´å¤æ‚çš„å›¾åƒå¤„ç†ä»»åŠ¡ï¼Œå¦‚å›¾åƒèåˆã€é®ç½©å¤„ç†ç­‰ã€‚</p>
<hr />
<a href="/2025/01/27/OpenCV%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0-%E6%A0%B8%E5%BF%83%E5%8A%9F%E8%83%BD%EF%BC%88%E4%B8%8B%EF%BC%89/" title="OpenCVå…¥é—¨å­¦ä¹ -æ ¸å¿ƒåŠŸèƒ½ï¼ˆä¸‹ï¼‰">OpenCVå…¥é—¨å­¦ä¹ -æ ¸å¿ƒåŠŸèƒ½ï¼ˆä¸‹ï¼‰</a>
<h2 id="å‚è€ƒèµ„æ–™">6. å‚è€ƒèµ„æ–™</h2>
<p><strong>[1]</strong> <a
target="_blank" rel="noopener" href="https://docs.opencv.org/4.x/de/d7a/tutorial_table_of_content_core.html">OpenCVå®˜æ–¹æ–‡æ¡£</a></p>

    </div>

    
    
    
    <div>
         <div>
    
    <div style="text-align:center;color: #ccc;font-size:14px;">
        -------------æœ¬æ–‡ç»“æŸ <i class="fa fa-paw"></i> æ„Ÿè°¢æ‚¨çš„é˜…è¯»-------------
    </div>
    
</div> 
    </div>


    <footer class="post-footer">
          <div class="reward-container">
  
  
  <button>
    èµèµ
  </button>
  <div class="post-reward">
      <div>
        <img src="/images/wechatpay.png" alt="smile å¾®ä¿¡">
        <span>å¾®ä¿¡</span>
      </div>
      <div>
        <img src="/images/alipay.jpg" alt="smile æ”¯ä»˜å®">
        <span>æ”¯ä»˜å®</span>
      </div>

  </div>
</div>

          

<div class="post-copyright">
<ul>
  <li class="post-copyright-author">
      <strong>æœ¬æ–‡ä½œè€…ï¼š </strong>smile
  </li>
  <li class="post-copyright-link">
      <strong>æœ¬æ–‡é“¾æ¥ï¼š</strong>
      <a href="https://blackspace2.github.io/2025/01/26/OpenCV%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0-%E6%A0%B8%E5%BF%83%E5%8A%9F%E8%83%BD%EF%BC%88%E4%B8%8A%EF%BC%89/" title="OpenCVå…¥é—¨å­¦ä¹ -æ ¸å¿ƒåŠŸèƒ½ï¼ˆä¸Šï¼‰">https://blackspace2.github.io/2025/01/26/OpenCVå…¥é—¨å­¦ä¹ -æ ¸å¿ƒåŠŸèƒ½ï¼ˆä¸Šï¼‰/</a>
  </li>
  <li class="post-copyright-license">
      <strong>ç‰ˆæƒå£°æ˜ï¼š </strong>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼
  </li>
</ul>
</div>

          <div class="followme">
  <span>æ¬¢è¿å…³æ³¨æˆ‘çš„å…¶å®ƒå‘å¸ƒæ¸ é“</span>

  <div class="social-list">

      <div class="social-item">
          <a target="_blank" class="social-link" href="/atom.xml">
            <span class="icon">
              <i class="fa fa-rss"></i>
            </span>

            <span class="label">RSS</span>
          </a>
      </div>

      <div class="social-item">
          <a target="_blank" class="social-link" href="https://github.com/Blackspace2">
            <span class="icon">
              <i class="fab fa-github"></i>
            </span>

            <span class="label">GitHub</span>
          </a>
      </div>
  </div>
</div>

          <div class="post-tags">
              <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/" rel="tag"><i class="fa fa-tag"></i> è®¡ç®—æœºè§†è§‰</a>
              <a href="/tags/C-C/" rel="tag"><i class="fa fa-tag"></i> C/C++</a>
              <a href="/tags/OpenCV/" rel="tag"><i class="fa fa-tag"></i> OpenCV</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2025/01/27/OpenCV%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0-%E6%A0%B8%E5%BF%83%E5%8A%9F%E8%83%BD%EF%BC%88%E4%B8%8B%EF%BC%89/" rel="prev" title="OpenCVå…¥é—¨å­¦ä¹ -æ ¸å¿ƒåŠŸèƒ½ï¼ˆä¸‹ï¼‰">
                  <i class="fa fa-angle-left"></i> OpenCVå…¥é—¨å­¦ä¹ -æ ¸å¿ƒåŠŸèƒ½ï¼ˆä¸‹ï¼‰
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2025/01/18/%E5%8D%95%E5%83%8F%E7%A9%BA%E9%97%B4%E5%90%8E%E6%96%B9%E4%BA%A4%E4%BC%9A/" rel="next" title="å•åƒç©ºé—´åæ–¹äº¤ä¼š">
                  å•åƒç©ºé—´åæ–¹äº¤ä¼š <i class="fa fa-angle-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






    <div class="comments"><div id="twikoo-comments"></div></div>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">smile</span>
  </div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
    <span title="ç«™ç‚¹æ€»å­—æ•°">26k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="ç«™ç‚¹é˜…è¯»æ—¶é•¿">1:28</span>
  </span>
</div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="æ€»è®¿å®¢é‡">
        æœ¬ç«™æ€»è®¿å®¢é‡<span id="busuanzi_value_site_uv"></span>æ¬¡
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="æ€»è®¿é—®é‡">
        æœ¬ç«™æ€»è®¿é—®é‡<span id="busuanzi_value_site_pv"></span>äººæ¬¡
      </span>
    </span>
</div>



<div>
<span id="timeDate">è½½å…¥å¤©æ•°...</span><span id="times">è½½å…¥æ—¶åˆ†ç§’...</span>
<script>
    var now = new Date(); 
    function createtime() { 
        var grt= new Date("01/05/2025 16:48:27");//åœ¨æ­¤å¤„ä¿®æ”¹ä½ çš„å»ºç«™æ—¶é—´
        now.setTime(now.getTime()+250); 
        days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days); 
        hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours); 
        if(String(hnum).length ==1 ){hnum = "0" + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum); 
        mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = "0" + mnum;} 
        seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum); 
        snum = Math.round(seconds); if(String(snum).length ==1 ){snum = "0" + snum;} 
        document.getElementById("timeDate").innerHTML = "æœ¬ç«™å·²è¿è¡Œ "+dnum+" å¤© "; 
        document.getElementById("times").innerHTML = hnum + " å°æ—¶ " + mnum + " åˆ† " + snum + " ç§’"; 
    } 
setInterval("createtime()",250);
</script>
</div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/next-theme-pjax/0.6.0/pjax.min.js" integrity="sha256-vxLn1tSKWD4dqbMRyv940UYw4sXgMtYcK6reefzZrao=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancyapps-ui/5.0.31/fancybox/fancybox.umd.js" integrity="sha256-a+H7FYzJv6oU2hfsfDGM2Ohw/cR9v+hPfxHCLdmCrE8=" crossorigin="anonymous"></script>


<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script><script src="/js/pjax.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>

  <script class="next-config" data-name="pdf" type="application/json">{"object_url":{"url":"https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.3.0/pdfobject.min.js","integrity":"sha256-JJZNsid68vnh3/zyj0lY9BN5ynxVX/12XgOa1TlaYN0="},"url":"/lib/pdf/web/viewer.html"}</script>
  <script src="/js/third-party/tags/pdf.js"></script>



  <script src="/js/third-party/fancybox.js"></script>



  
  <script data-pjax async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"all","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>


<script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>

<script>
var options = {
  bottom: '64px',
  right: '32px',
  left: 'unset',
  time: '0.5s',
  mixColor: 'transparent',
  backgroundColor: 'transparent',
  buttonColorDark: '#100f2c',
  buttonColorLight: '#fff',
  saveInCookies: true,
  label: 'ğŸŒ“',
  autoMatchOsTheme: true
}
const darkmode = new Darkmode(options);
window.darkmode = darkmode;
darkmode.showWidget();
</script>
<script class="next-config" data-name="twikoo" type="application/json">{"enable":true,"visitor":false,"envId":"https://twikoo-eta-smoky-88.vercel.app","el":"#twikoo-comments"}</script>


<head>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js" integrity="sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4" crossorigin="anonymous"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js" integrity="sha384-mll67QQFJfxn0IYznZYonOWZ644AWYC+Pt2cHqMaRhXVrursRwvLnLaebdGIlYNa" crossorigin="anonymous"></script>
<style>.darkmode--activated{--body-bg-color:#282828;--content-bg-color:#333;--card-bg-color:#555;--text-color:#ccc;--blockquote-color:#bbb;--link-color:#ccc;--link-hover-color:#eee;--brand-color:#ddd;--brand-hover-color:#ddd;--table-row-odd-bg-color:#282828;--table-row-hover-bg-color:#363636;--menu-item-bg-color:#555;--btn-default-bg:#222;--btn-default-color:#ccc;--btn-default-border-color:#555;--btn-default-hover-bg:#666;--btn-default-hover-color:#ccc;--btn-default-hover-border-color:#666;--highlight-background:#282b2e;--highlight-foreground:#a9b7c6;--highlight-gutter-background:#34393d;--highlight-gutter-foreground:#9ca9b6}.darkmode--activated img{opacity:.75}.darkmode--activated img:hover{opacity:.9}.darkmode--activated code{color:#69dbdc;background:0 0}button.darkmode-toggle{z-index:9999}.darkmode-ignore,img{display:flex!important}.beian img{display:inline-block!important}</style></head>


<script>
document.addEventListener('page:loaded', () => {
  NexT.utils.loadComments(CONFIG.twikoo.el)
    .then(() => NexT.utils.getScript(
      CONFIG.twikoo.jsUrl || 'https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js',
      { condition: window.twikoo }
    ))
    .then(() => {
      twikoo.init(CONFIG.twikoo);
    });
});
</script>
<style>
.post-block, .comments {
  overflow: visible;
}
.tk-owo-emotion {
  display: inline-block;
}
</style>
<div class="moon-menu">
  <div class="moon-menu-items">
    
    <div id="moon-menu-item-back2bottom" class="moon-menu-item">
      <i class='fas fa-chevron-down'></i>    </div>
    
    <div id="moon-menu-item-back2top" class="moon-menu-item">
      <i class='fas fa-chevron-up'></i>    </div>
    
  </div>
  <div class="moon-menu-button">
    <svg class="moon-menu-bg">
      <circle class="moon-menu-cricle" cx="50%" cy="50%" r="44%"></circle>
      <circle class="moon-menu-border" cx="50%" cy="50%" r="48%"></circle>
    </svg>
    <div class="moon-menu-content">
      <div class="moon-menu-icon"><i class='fas fa-ellipsis-v'></i></div>
      <div class="moon-menu-text"></div>
    </div>
  </div>
</div><script src="/js/injector.js"></script>
  
</body>
</html>
